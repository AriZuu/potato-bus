<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>potato-bus: Client API layer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">potato-bus
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Client API layer</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="memitem:ga1209273731afc464d56d2b99b28e6909"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__client.html#ga1209273731afc464d56d2b99b28e6909">pbGetPacketId</a> (<a class="el" href="structPbClient.html">PbClient</a> *c)</td></tr>
<tr class="separator:ga1209273731afc464d56d2b99b28e6909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf11e4a21e9fa6daea942a8d0b612c771"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__client.html#gaf11e4a21e9fa6daea942a8d0b612c771">pbWritePacket</a> (<a class="el" href="structPbClient.html">PbClient</a> *client, <a class="el" href="structPbPacket.html">PbPacket</a> *pkt)</td></tr>
<tr class="separator:gaf11e4a21e9fa6daea942a8d0b612c771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9571c61cc03142b459cc99cf5e0c67a1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__client.html#ga9571c61cc03142b459cc99cf5e0c67a1">pbReadPacket</a> (<a class="el" href="structPbClient.html">PbClient</a> *client)</td></tr>
<tr class="separator:ga9571c61cc03142b459cc99cf5e0c67a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02cff8165845b198ed9365e40d67c0e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__client.html#ga02cff8165845b198ed9365e40d67c0e9">pbConnect</a> (<a class="el" href="structPbClient.html">PbClient</a> *client, const char *host, const char *service, <a class="el" href="structPbConnect.html">PbConnect</a> *arg)</td></tr>
<tr class="separator:ga02cff8165845b198ed9365e40d67c0e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ae9aa5df70b0c8227712ef61773ff67"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__client.html#ga7ae9aa5df70b0c8227712ef61773ff67">pbPing</a> (<a class="el" href="structPbClient.html">PbClient</a> *client)</td></tr>
<tr class="separator:ga7ae9aa5df70b0c8227712ef61773ff67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga841f4d56cc47f1445301e36c425d310e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__client.html#ga841f4d56cc47f1445301e36c425d310e">pbPublish</a> (<a class="el" href="structPbClient.html">PbClient</a> *client, <a class="el" href="structPbPublish.html">PbPublish</a> *arg)</td></tr>
<tr class="separator:ga841f4d56cc47f1445301e36c425d310e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4012595a0954dccc7a9a3374ef0f1b18"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__client.html#ga4012595a0954dccc7a9a3374ef0f1b18">pbSubscribe</a> (<a class="el" href="structPbClient.html">PbClient</a> *client, <a class="el" href="structPbSubscribe.html">PbSubscribe</a> *arg)</td></tr>
<tr class="separator:ga4012595a0954dccc7a9a3374ef0f1b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5bb495e041ef06afd2210eb0093616ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__client.html#ga5bb495e041ef06afd2210eb0093616ae">pbDisconnect</a> (<a class="el" href="structPbClient.html">PbClient</a> *client)</td></tr>
<tr class="separator:ga5bb495e041ef06afd2210eb0093616ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga252f6037affe63b59f9d2b85c0a1da72"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__client.html#ga252f6037affe63b59f9d2b85c0a1da72">pbEvent</a> (<a class="el" href="structPbClient.html">PbClient</a> *client)</td></tr>
<tr class="separator:ga252f6037affe63b59f9d2b85c0a1da72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga891c091ea38c6cdf8ac41d700de8fae4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__client.html#ga891c091ea38c6cdf8ac41d700de8fae4">pbWaitResponse</a> (<a class="el" href="structPbClient.html">PbClient</a> *client, int expect)</td></tr>
<tr class="separator:ga891c091ea38c6cdf8ac41d700de8fae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1209273731afc464d56d2b99b28e6909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1209273731afc464d56d2b99b28e6909">&sect;&nbsp;</a></span>pbGetPacketId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbGetPacketId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPbClient.html">PbClient</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get next packet ID for this client. Used in some MQTT packets, but not in all. </p>

</div>
</div>
<a id="gaf11e4a21e9fa6daea942a8d0b612c771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf11e4a21e9fa6daea942a8d0b612c771">&sect;&nbsp;</a></span>pbWritePacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbWritePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPbClient.html">PbClient</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPbPacket.html">PbPacket</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write given packet to broker socket. </p>

</div>
</div>
<a id="ga9571c61cc03142b459cc99cf5e0c67a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9571c61cc03142b459cc99cf5e0c67a1">&sect;&nbsp;</a></span>pbReadPacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbReadPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPbClient.html">PbClient</a> *&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read next packet from broker socket. </p>

</div>
</div>
<a id="ga02cff8165845b198ed9365e40d67c0e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga02cff8165845b198ed9365e40d67c0e9">&sect;&nbsp;</a></span>pbConnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbConnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPbClient.html">PbClient</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPbConnect.html">PbConnect</a> *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connect to MQTT broker and wait for it to acknowledge new connection. </p>

</div>
</div>
<a id="ga7ae9aa5df70b0c8227712ef61773ff67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ae9aa5df70b0c8227712ef61773ff67">&sect;&nbsp;</a></span>pbPing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbPing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPbClient.html">PbClient</a> *&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send PING to broker and wait for response. Used to handle keepalive processing. </p>

</div>
</div>
<a id="ga841f4d56cc47f1445301e36c425d310e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga841f4d56cc47f1445301e36c425d310e">&sect;&nbsp;</a></span>pbPublish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbPublish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPbClient.html">PbClient</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPbPublish.html">PbPublish</a> *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publish new data to given topic. </p>

</div>
</div>
<a id="ga4012595a0954dccc7a9a3374ef0f1b18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4012595a0954dccc7a9a3374ef0f1b18">&sect;&nbsp;</a></span>pbSubscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbSubscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPbClient.html">PbClient</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPbSubscribe.html">PbSubscribe</a> *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Subscribe new topic. </p>

</div>
</div>
<a id="ga5bb495e041ef06afd2210eb0093616ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5bb495e041ef06afd2210eb0093616ae">&sect;&nbsp;</a></span>pbDisconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbDisconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPbClient.html">PbClient</a> *&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disconnect from broker. </p>

</div>
</div>
<a id="ga252f6037affe63b59f9d2b85c0a1da72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga252f6037affe63b59f9d2b85c0a1da72">&sect;&nbsp;</a></span>pbEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPbClient.html">PbClient</a> *&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get next event from broker. This is used by application main loop to find out what to do next. Common returns are information about new publish data, timeout or error. </p>

</div>
</div>
<a id="ga891c091ea38c6cdf8ac41d700de8fae4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga891c091ea38c6cdf8ac41d700de8fae4">&sect;&nbsp;</a></span>pbWaitResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbWaitResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPbClient.html">PbClient</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>expect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used internally for waiting desired response from broker. (for example, wait for acknowledgement to ping packet). </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 4 2016 17:09:43 for potato-bus by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
